<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用代码片段 | 前端知识</title>
    <meta name="description" content="一个总结前端知识的文档网站">
    <link rel="icon" href="/logo.png">
  <script defer="defer" src="/static/jquery.slim.min.js"></script>
  <script defer="defer" src="/static/jquery.fancybox.min.js"></script>
  <link defer="defer" rel="stylesheet" type="text/css" href="/static/jquery.fancybox.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.f853b4b7.css" as="style"><link rel="preload" href="/assets/js/app.775950a1.js" as="script"><link rel="preload" href="/assets/js/113.2313fbd8.js" as="script"><link rel="prefetch" href="/assets/js/10.6c44e435.js"><link rel="prefetch" href="/assets/js/100.98af6c3f.js"><link rel="prefetch" href="/assets/js/101.48d54f64.js"><link rel="prefetch" href="/assets/js/102.129a7b52.js"><link rel="prefetch" href="/assets/js/103.10eca49c.js"><link rel="prefetch" href="/assets/js/104.50d7d876.js"><link rel="prefetch" href="/assets/js/105.096bd294.js"><link rel="prefetch" href="/assets/js/106.34c2dfeb.js"><link rel="prefetch" href="/assets/js/107.ee695784.js"><link rel="prefetch" href="/assets/js/108.1bfbd82d.js"><link rel="prefetch" href="/assets/js/109.e3a3585f.js"><link rel="prefetch" href="/assets/js/11.4b0dbe7e.js"><link rel="prefetch" href="/assets/js/110.d7461d00.js"><link rel="prefetch" href="/assets/js/111.633fe979.js"><link rel="prefetch" href="/assets/js/112.5f7790db.js"><link rel="prefetch" href="/assets/js/114.e9411169.js"><link rel="prefetch" href="/assets/js/115.521e230d.js"><link rel="prefetch" href="/assets/js/116.b09bb4f8.js"><link rel="prefetch" href="/assets/js/117.ed527f17.js"><link rel="prefetch" href="/assets/js/118.bd02124f.js"><link rel="prefetch" href="/assets/js/119.5f466511.js"><link rel="prefetch" href="/assets/js/12.642b7c08.js"><link rel="prefetch" href="/assets/js/120.54ea8711.js"><link rel="prefetch" href="/assets/js/121.491683c5.js"><link rel="prefetch" href="/assets/js/122.0f3a778f.js"><link rel="prefetch" href="/assets/js/123.f646571d.js"><link rel="prefetch" href="/assets/js/124.5729a85d.js"><link rel="prefetch" href="/assets/js/125.5fbad3c9.js"><link rel="prefetch" href="/assets/js/126.aa4ccf66.js"><link rel="prefetch" href="/assets/js/127.6784ebf7.js"><link rel="prefetch" href="/assets/js/128.6ea33084.js"><link rel="prefetch" href="/assets/js/129.5ba75c6d.js"><link rel="prefetch" href="/assets/js/13.4c5741c4.js"><link rel="prefetch" href="/assets/js/130.40139e9d.js"><link rel="prefetch" href="/assets/js/131.bb93d98d.js"><link rel="prefetch" href="/assets/js/132.329af62a.js"><link rel="prefetch" href="/assets/js/133.fc17842a.js"><link rel="prefetch" href="/assets/js/134.3255aff9.js"><link rel="prefetch" href="/assets/js/135.d7183705.js"><link rel="prefetch" href="/assets/js/136.85def739.js"><link rel="prefetch" href="/assets/js/137.8f3e6657.js"><link rel="prefetch" href="/assets/js/138.6bd6f6de.js"><link rel="prefetch" href="/assets/js/139.e1f0e12f.js"><link rel="prefetch" href="/assets/js/14.c40076df.js"><link rel="prefetch" href="/assets/js/140.83de1531.js"><link rel="prefetch" href="/assets/js/141.5ed47066.js"><link rel="prefetch" href="/assets/js/142.bce834c0.js"><link rel="prefetch" href="/assets/js/143.b15fed8b.js"><link rel="prefetch" href="/assets/js/144.2bdb3b43.js"><link rel="prefetch" href="/assets/js/145.d80e33fe.js"><link rel="prefetch" href="/assets/js/146.c11c2a25.js"><link rel="prefetch" href="/assets/js/147.b38962fa.js"><link rel="prefetch" href="/assets/js/148.d69f3f9c.js"><link rel="prefetch" href="/assets/js/149.14e641d8.js"><link rel="prefetch" href="/assets/js/15.53984755.js"><link rel="prefetch" href="/assets/js/150.b89ce1b7.js"><link rel="prefetch" href="/assets/js/151.e60afdef.js"><link rel="prefetch" href="/assets/js/152.8b5c1d78.js"><link rel="prefetch" href="/assets/js/153.ae8d9e61.js"><link rel="prefetch" href="/assets/js/154.df75c4e9.js"><link rel="prefetch" href="/assets/js/155.4593e073.js"><link rel="prefetch" href="/assets/js/156.a897070f.js"><link rel="prefetch" href="/assets/js/16.1269c0ab.js"><link rel="prefetch" href="/assets/js/17.f8a094b8.js"><link rel="prefetch" href="/assets/js/18.e44a028b.js"><link rel="prefetch" href="/assets/js/19.232b0c35.js"><link rel="prefetch" href="/assets/js/20.dd08f9d5.js"><link rel="prefetch" href="/assets/js/21.02356176.js"><link rel="prefetch" href="/assets/js/22.b9f0d214.js"><link rel="prefetch" href="/assets/js/23.af7f998b.js"><link rel="prefetch" href="/assets/js/24.55f7187b.js"><link rel="prefetch" href="/assets/js/25.676a9ada.js"><link rel="prefetch" href="/assets/js/26.6acb8ada.js"><link rel="prefetch" href="/assets/js/27.05214d03.js"><link rel="prefetch" href="/assets/js/28.5e603dc5.js"><link rel="prefetch" href="/assets/js/29.e093a5f3.js"><link rel="prefetch" href="/assets/js/3.a8f0d3e2.js"><link rel="prefetch" href="/assets/js/30.1abcd9a3.js"><link rel="prefetch" href="/assets/js/31.c2487b5a.js"><link rel="prefetch" href="/assets/js/32.ea784c06.js"><link rel="prefetch" href="/assets/js/33.562cbd3d.js"><link rel="prefetch" href="/assets/js/34.32f2c085.js"><link rel="prefetch" href="/assets/js/35.768bee1a.js"><link rel="prefetch" href="/assets/js/36.38385f0d.js"><link rel="prefetch" href="/assets/js/37.3333f4f3.js"><link rel="prefetch" href="/assets/js/38.b4d8add3.js"><link rel="prefetch" href="/assets/js/39.975009ed.js"><link rel="prefetch" href="/assets/js/4.18c4588b.js"><link rel="prefetch" href="/assets/js/40.4a3a790b.js"><link rel="prefetch" href="/assets/js/41.6b207d98.js"><link rel="prefetch" href="/assets/js/42.39a62773.js"><link rel="prefetch" href="/assets/js/43.0ffc2720.js"><link rel="prefetch" href="/assets/js/44.f17f25ab.js"><link rel="prefetch" href="/assets/js/45.53cfb08c.js"><link rel="prefetch" href="/assets/js/46.9deefe9e.js"><link rel="prefetch" href="/assets/js/47.ce8a6111.js"><link rel="prefetch" href="/assets/js/48.d32c90b5.js"><link rel="prefetch" href="/assets/js/49.e7ab3a9b.js"><link rel="prefetch" href="/assets/js/5.875fc844.js"><link rel="prefetch" href="/assets/js/50.29c4023a.js"><link rel="prefetch" href="/assets/js/51.f2837511.js"><link rel="prefetch" href="/assets/js/52.cb96cb7f.js"><link rel="prefetch" href="/assets/js/53.6dca9f5d.js"><link rel="prefetch" href="/assets/js/54.531caf7b.js"><link rel="prefetch" href="/assets/js/55.e8bbd49d.js"><link rel="prefetch" href="/assets/js/56.85e1ee0f.js"><link rel="prefetch" href="/assets/js/57.bd4cb714.js"><link rel="prefetch" href="/assets/js/58.66b1a8c4.js"><link rel="prefetch" href="/assets/js/59.abbd3154.js"><link rel="prefetch" href="/assets/js/6.bc72a1c2.js"><link rel="prefetch" href="/assets/js/60.3f803f83.js"><link rel="prefetch" href="/assets/js/61.6cddbd0d.js"><link rel="prefetch" href="/assets/js/62.e8cd0d46.js"><link rel="prefetch" href="/assets/js/63.6c9915a5.js"><link rel="prefetch" href="/assets/js/64.6b2be6f1.js"><link rel="prefetch" href="/assets/js/65.7361da19.js"><link rel="prefetch" href="/assets/js/66.02cdac53.js"><link rel="prefetch" href="/assets/js/67.0a394ff3.js"><link rel="prefetch" href="/assets/js/68.a2d4f0ba.js"><link rel="prefetch" href="/assets/js/69.da1bc91c.js"><link rel="prefetch" href="/assets/js/7.f8e21188.js"><link rel="prefetch" href="/assets/js/70.808b6c60.js"><link rel="prefetch" href="/assets/js/71.5fb1876d.js"><link rel="prefetch" href="/assets/js/72.b3c7a6da.js"><link rel="prefetch" href="/assets/js/73.3973398c.js"><link rel="prefetch" href="/assets/js/74.150e73da.js"><link rel="prefetch" href="/assets/js/75.6d807f6f.js"><link rel="prefetch" href="/assets/js/76.75efe257.js"><link rel="prefetch" href="/assets/js/77.a27205ed.js"><link rel="prefetch" href="/assets/js/78.a43eafbe.js"><link rel="prefetch" href="/assets/js/79.d5224e18.js"><link rel="prefetch" href="/assets/js/8.8eeaf86d.js"><link rel="prefetch" href="/assets/js/80.c0f856c8.js"><link rel="prefetch" href="/assets/js/81.3891d4d6.js"><link rel="prefetch" href="/assets/js/82.de319974.js"><link rel="prefetch" href="/assets/js/83.d61c016c.js"><link rel="prefetch" href="/assets/js/84.efe08c8d.js"><link rel="prefetch" href="/assets/js/85.b611c88b.js"><link rel="prefetch" href="/assets/js/86.9a45684c.js"><link rel="prefetch" href="/assets/js/87.36076ea1.js"><link rel="prefetch" href="/assets/js/88.78017773.js"><link rel="prefetch" href="/assets/js/89.f845f250.js"><link rel="prefetch" href="/assets/js/9.812a22af.js"><link rel="prefetch" href="/assets/js/90.9c8a1d96.js"><link rel="prefetch" href="/assets/js/91.bd1f20bb.js"><link rel="prefetch" href="/assets/js/92.d85b144d.js"><link rel="prefetch" href="/assets/js/93.9db78afd.js"><link rel="prefetch" href="/assets/js/94.81bc2dfb.js"><link rel="prefetch" href="/assets/js/95.4f47dd92.js"><link rel="prefetch" href="/assets/js/96.46f295d6.js"><link rel="prefetch" href="/assets/js/97.e056f61f.js"><link rel="prefetch" href="/assets/js/98.10c98825.js"><link rel="prefetch" href="/assets/js/99.185020de.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a4f1059c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f853b4b7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="前端知识" class="logo"> <span class="site-name can-hide">前端知识</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link router-link-active">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link">js标准库</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">dom操作文档</a></li><li class="dropdown-item"><!----> <a href="/doc/browserNetwork/" class="nav-link">浏览器、网络</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/html/" class="nav-link">html</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JS打包工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/doc/tool/webpack/" class="nav-link">webpack</a></li></ul></li></ul></div></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/catalog.html" class="nav-link">目录</a></div><div class="nav-item"><a href="/doc/es6/" class="nav-link">ES6</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">javascript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/doc/js/" class="nav-link router-link-active">js</a></li><li class="dropdown-item"><!----> <a href="/doc/js/standardLibrary/" class="nav-link">js标准库</a></li><li class="dropdown-item"><!----> <a href="/doc/dom/" class="nav-link">dom操作文档</a></li><li class="dropdown-item"><!----> <a href="/doc/browserNetwork/" class="nav-link">浏览器、网络</a></li><li class="dropdown-item"><!----> <a href="/doc/designPattern/" class="nav-link">设计模式</a></li></ul></div></div><div class="nav-item"><a href="/doc/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/doc/html/" class="nav-link">html</a></div><div class="nav-item"><a href="/doc/react/" class="nav-link">react</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>JS打包工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/doc/tool/webpack/" class="nav-link">webpack</a></li></ul></li></ul></div></div> <a href="https://github.com/yulilong/front-end-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/doc/js/" class="one-level sidebar-link">JavaScript部分说明</a></li><li><a href="/doc/js/001-对象原型继承.html" class="one-level sidebar-link">对象原型继承</a></li><li><a href="/doc/js/002-this_call_apply_bind.html" class="one-level sidebar-link">this、call、apply、bind</a></li><li><a href="/doc/js/003-数据类型转换.html" class="one-level sidebar-link">数据类型转换</a></li><li><a href="/doc/js/004-跨域.html" class="one-level sidebar-link">跨域</a></li><li><a href="/doc/js/005-Ajax.html" class="one-level sidebar-link">Ajax</a></li><li><a href="/doc/js/006-函数.html" class="one-level sidebar-link">函数</a></li><li><a href="/doc/js/007-作用域.html" class="one-level sidebar-link">作用域</a></li><li><a href="/doc/js/008-排序算法.html" class="one-level sidebar-link">排序算法</a></li><li><a href="/doc/js/009-获取标签宽高及实例.html" class="one-level sidebar-link">获取标签的宽高及例子</a></li><li><a href="/doc/js/010-从输入URL到页面渲染过程.html" class="one-level sidebar-link">从输入URL到页面渲染过程</a></li><li><a href="/doc/js/013-JS浮点数运算的精度问题.html" class="one-level sidebar-link">JavaScript浮点数运算的精度问题</a></li><li><a href="/doc/js/014-Web-Worker使用教程.html" class="one-level sidebar-link">Web Worker 使用教程</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS代码执行机制和事件循环</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>高级</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/doc/js/advanced/001-ES6模块import_export.html" class="one-level sidebar-link">ES6模块import_export</a></li><li><a href="/doc/js/advanced/002-错误处理try_catch.html" class="one-level sidebar-link">错误处理try_catch</a></li><li><a href="/doc/js/advanced/003-常用的代码片段.html" class="one-level one-level-active active sidebar-link">常用代码片段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-document" class="sidebar-link">1. document</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-1-自动点击按钮" class="sidebar-link">1.1 自动点击按钮</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-2-html加载完毕再执行js" class="sidebar-link">1.2 HTML加载完毕再执行JS</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-3-js设置div高度、最小高度" class="sidebar-link">1.3 JS设置div高度、最小高度</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-4-js实现页面跳转" class="sidebar-link">1.4 JS实现页面跳转</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-5-事件委托指定子节点才出发事件" class="sidebar-link">1.5 事件委托指定子节点才出发事件</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-6-获取浏览器窗口宽度" class="sidebar-link">1.6 获取浏览器窗口宽度</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-7-文档的总高度-页面内容的总高度" class="sidebar-link">1.7 文档的总高度(页面内容的总高度)</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-8-获取浏览器可见部分的高度" class="sidebar-link">1.8 获取浏览器可见部分的高度</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-9-获取url上的参数-解决参数中文乱码" class="sidebar-link">1.9 获取URL上的参数,解决参数中文乱码</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-10-使用js页面跳转" class="sidebar-link">1.10 使用JS页面跳转</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-11-元素懒加载：滚动到底部触发事件" class="sidebar-link">1.11 元素懒加载：滚动到底部触发事件</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-12-scroll：页面已经滚动了多少距离" class="sidebar-link">1.12 scroll：页面已经滚动了多少距离</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-13-scroll：设置滚动到顶部" class="sidebar-link">1.13 scroll：设置滚动到顶部</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-14-获取一个元素距离顶部的高度" class="sidebar-link">1.14 获取一个元素距离顶部的高度</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_1-15-scroll：设置元素滚动到可视区域" class="sidebar-link">1.15 scroll：设置元素滚动到可视区域</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-javascript-相关" class="sidebar-link">2. JavaScript 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-1-遍历对象属性，获取对象中key，做相关操作" class="sidebar-link">2.1 遍历对象属性，获取对象中key，做相关操作</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-2-数字千分位格式化-tolocalestring" class="sidebar-link">2.2 数字千分位格式化:toLocaleString()</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-3-阻止事件冒泡" class="sidebar-link">2.3 阻止事件冒泡</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-4-阻止浏览器的默认行为" class="sidebar-link">2.4 阻止浏览器的默认行为</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-5-input输入框事件：获取焦点、失去焦点、值发生改变" class="sidebar-link">2.5 input输入框事件：获取焦点、失去焦点、值发生改变</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-6-js实现input输入框高度自适应" class="sidebar-link">2.6 JS实现Input输入框高度自适应</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-7-自定义一个事件监听" class="sidebar-link">2.7 自定义一个事件监听</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-8-复制一个对象-深拷贝" class="sidebar-link">2.8 复制一个对象(深拷贝)</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-9-es6语法的解构赋值和扩展运算符" class="sidebar-link">2.9 ES6语法的解构赋值和扩展运算符</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-10-函数防抖" class="sidebar-link">2.10 函数防抖</a></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#_2-11-js让时间显示为多久以前" class="sidebar-link">2.11 JS让时间显示为多久以前</a></li></ul></li><li class="sidebar-sub-header"><a href="/doc/js/advanced/003-常用的代码片段.html#其他参考资料" class="sidebar-link">其他参考资料</a></li></ul></li><li><a href="/doc/js/advanced/004-轮播代码实现.html" class="one-level sidebar-link">轮播代码实现</a></li><li><a href="/doc/js/advanced/005-浏览器兼容.html" class="one-level sidebar-link">浏览器兼容</a></li><li><a href="/doc/js/advanced/006-手机端页面开发.html" class="one-level sidebar-link">手机端页面开发</a></li><li><a href="/doc/js/advanced/007-SEO搜索引擎优化.html" class="one-level sidebar-link">SEO搜索引擎优化</a></li><li><a href="/doc/js/advanced/008-前端数据模拟Mock.html" class="one-level sidebar-link">前端数据模拟Mock</a></li><li><a href="/doc/js/advanced/009-JS中的垃圾回收和内存泄露.html" class="one-level sidebar-link">JS中的垃圾回收和内存泄露</a></li><li><a href="/doc/js/advanced/010-moment时间插件使用说明.html" class="one-level sidebar-link">moment时间插件使用说明</a></li><li><a href="/doc/js/advanced/011-react项目搭建.html" class="one-level sidebar-link">react项目搭建</a></li><li><a href="/doc/js/advanced/012-vue项目搭建.html" class="one-level sidebar-link">vue项目搭建</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>文章</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><p></p><div class="table-of-contents"><ul><li><a href="#_1-document">1. document</a><ul><li><a href="#_1-1-自动点击按钮">1.1 自动点击按钮</a></li><li><a href="#_1-2-html加载完毕再执行js">1.2 HTML加载完毕再执行JS</a></li><li><a href="#_1-3-js设置div高度、最小高度">1.3 JS设置div高度、最小高度</a></li><li><a href="#_1-4-js实现页面跳转">1.4 JS实现页面跳转</a></li><li><a href="#_1-5-事件委托指定子节点才出发事件">1.5 事件委托指定子节点才出发事件</a></li><li><a href="#_1-6-获取浏览器窗口宽度">1.6 获取浏览器窗口宽度</a></li><li><a href="#_1-7-文档的总高度-页面内容的总高度">1.7 文档的总高度(页面内容的总高度)</a></li><li><a href="#_1-8-获取浏览器可见部分的高度">1.8 获取浏览器可见部分的高度</a></li><li><a href="#_1-9-获取url上的参数-解决参数中文乱码">1.9 获取URL上的参数,解决参数中文乱码</a></li><li><a href="#_1-10-使用js页面跳转">1.10 使用JS页面跳转</a></li><li><a href="#_1-11-元素懒加载：滚动到底部触发事件">1.11 元素懒加载：滚动到底部触发事件</a></li><li><a href="#_1-12-scroll：页面已经滚动了多少距离">1.12 scroll：页面已经滚动了多少距离</a></li><li><a href="#_1-13-scroll：设置滚动到顶部">1.13 scroll：设置滚动到顶部</a></li><li><a href="#_1-14-获取一个元素距离顶部的高度">1.14 获取一个元素距离顶部的高度</a></li><li><a href="#_1-15-scroll：设置元素滚动到可视区域">1.15 scroll：设置元素滚动到可视区域</a></li></ul></li><li><a href="#_2-javascript-相关">2. JavaScript 相关</a><ul><li><a href="#_2-1-遍历对象属性，获取对象中key，做相关操作">2.1 遍历对象属性，获取对象中key，做相关操作</a></li><li><a href="#_2-2-数字千分位格式化-tolocalestring">2.2 数字千分位格式化:toLocaleString()</a></li><li><a href="#_2-3-阻止事件冒泡">2.3 阻止事件冒泡</a></li><li><a href="#_2-4-阻止浏览器的默认行为">2.4 阻止浏览器的默认行为</a></li><li><a href="#_2-5-input输入框事件：获取焦点、失去焦点、值发生改变">2.5 input输入框事件：获取焦点、失去焦点、值发生改变</a></li><li><a href="#_2-6-js实现input输入框高度自适应">2.6 JS实现Input输入框高度自适应</a></li><li><a href="#_2-7-自定义一个事件监听">2.7 自定义一个事件监听</a></li><li><a href="#_2-8-复制一个对象-深拷贝">2.8 复制一个对象(深拷贝)</a></li><li><a href="#_2-9-es6语法的解构赋值和扩展运算符">2.9 ES6语法的解构赋值和扩展运算符</a></li><li><a href="#_2-10-函数防抖">2.10 函数防抖</a></li><li><a href="#_2-11-js让时间显示为多久以前">2.11 JS让时间显示为多久以前</a></li></ul></li><li><a href="#其他参考资料">其他参考资料</a></li></ul></div>
[TOC]<p></p> <h1 id="常用代码片段"><a href="#常用代码片段" aria-hidden="true" class="header-anchor">#</a> 常用代码片段</h1> <h2 id="_1-document"><a href="#_1-document" aria-hidden="true" class="header-anchor">#</a> 1. document</h2> <h3 id="_1-1-自动点击按钮"><a href="#_1-1-自动点击按钮" aria-hidden="true" class="header-anchor">#</a> 1.1 自动点击按钮</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>1234<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//获取元素div</span>
    div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token comment">//给元素增加点击事件</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我被点击了'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    div<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-2-html加载完毕再执行js"><a href="#_1-2-html加载完毕再执行js" aria-hidden="true" class="header-anchor">#</a> 1.2 HTML加载完毕再执行JS</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;页面加载完毕&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-3-js设置div高度、最小高度"><a href="#_1-3-js设置div高度、最小高度" aria-hidden="true" class="header-anchor">#</a> 1.3 JS设置div高度、最小高度</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
    <span class="token selector">.one</span> <span class="token punctuation">{</span> <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 1111 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> one <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.one&quot;</span><span class="token punctuation">)</span>
    one<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">&quot;100px&quot;</span><span class="token punctuation">;</span>
    one<span class="token punctuation">.</span>style<span class="token punctuation">.</span>minHeight <span class="token operator">=</span> <span class="token string">&quot;200px&quot;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_1-4-js实现页面跳转"><a href="#_1-4-js实现页面跳转" aria-hidden="true" class="header-anchor">#</a> 1.4 JS实现页面跳转</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>new_page()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>在新窗口打开s<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>old_page()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>跳转后有后退功能<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>replace()<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>跳转后没有后退功能<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">function</span> <span class="token function">old_page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>  window<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token string">&quot;about.html&quot;</span> <span class="token punctuation">}</span> 
    <span class="token keyword">function</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>  window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;about.html&quot;</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span> 
    <span class="token keyword">function</span> <span class="token function">new_page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>  window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;about.html&quot;</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span> 
    <span class="token comment">// window.history.back(-1);	返回上一页 返回两个页面: history.go(-2); </span>
    <span class="token comment">// window.history.go(-1)；</span>
    <span class="token comment">// window.navigate(&quot;xx.jsp&quot;); </span>
    <span class="token comment">// self.location='xx.htm';  self:当前窗口对象（如果是在iframe里，则为该框架的窗口对象）</span>
    <span class="token comment">// 第一种：直接跳转加参数</span>
    <span class="token comment">// window.location.href=&quot;login.jsp?backurl=&quot;+window.location.href; </span>
    <span class="token comment">// </span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>window.location 属性是兼容所有浏览器的。因此在实现页面跳转的时候这个比较常用。</p> <p>window.navigate(&quot;http://xx.html/&quot;) 这个方法是只针对IE的，不适用于火狐等其他浏览器，在HTML DOM Window Object中，根本没有列出window.navigate这个方法，所以这个方法尽量少用。</p> <h3 id="_1-5-事件委托指定子节点才出发事件"><a href="#_1-5-事件委托指定子节点才出发事件" aria-hidden="true" class="header-anchor">#</a> 1.5 事件委托指定子节点才出发事件</h3> <p>现在给一个场景 ul &gt; li &gt; div &gt; p，div占满li，p占满div，还是给ul绑定时间，需要判断点击的是不是li</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>11111111111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            22222222
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>3333333333<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4444444<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>如上列表，有4个li，里面的内容各不相同，点击li，event对象肯定是当前点击的对象，怎么指定到li上，下面我直接给解决方案：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
oUl<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>ev<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> ev<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>target <span class="token operator">!==</span> oUl <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'li click~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        target <span class="token operator">=</span> target<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>参考资料：https://www.cnblogs.com/liugang-vip/p/5616484.html</p> <h3 id="_1-6-获取浏览器窗口宽度"><a href="#_1-6-获取浏览器窗口宽度" aria-hidden="true" class="header-anchor">#</a> 1.6 获取浏览器窗口宽度</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//浏览器窗口的宽度</span>
  <span class="token function">getClientWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> clientWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> bodyClientWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> documentClientWidth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">{</span> bodyClientWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
      documentClientWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    clientWidth <span class="token operator">=</span> <span class="token punctuation">(</span>bodyClientWidth <span class="token operator">-</span> documentClientWidth <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> bodyClientWidth <span class="token punctuation">:</span> documentClientWidth<span class="token punctuation">;</span>
    <span class="token keyword">return</span> clientWidth<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-7-文档的总高度-页面内容的总高度"><a href="#_1-7-文档的总高度-页面内容的总高度" aria-hidden="true" class="header-anchor">#</a> 1.7 文档的总高度(页面内容的总高度)</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//文档的总高度</span>
  getScrollHeight<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> scrollHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> bodyScrollHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> documentScrollHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">{</span> bodyScrollHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
      documentScrollHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    scrollHeight <span class="token operator">=</span> <span class="token punctuation">(</span>bodyScrollHeight <span class="token operator">-</span> documentScrollHeight <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> bodyScrollHeight <span class="token punctuation">:</span> documentScrollHeight<span class="token punctuation">;</span>
    <span class="token keyword">return</span> scrollHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-8-获取浏览器可见部分的高度"><a href="#_1-8-获取浏览器可见部分的高度" aria-hidden="true" class="header-anchor">#</a> 1.8 获取浏览器可见部分的高度</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 获取浏览器可见部分的高度</span>
  getWindowHeight<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> windowHeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;CSS1Compat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      windowHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> 
      windowHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
      <span class="token keyword">return</span> windowHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-9-获取url上的参数-解决参数中文乱码"><a href="#_1-9-获取url上的参数-解决参数中文乱码" aria-hidden="true" class="header-anchor">#</a> 1.9 获取URL上的参数,解决参数中文乱码</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getParams</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'(^|&amp;)'</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'=([^&amp;]*)(&amp;|$)'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// decodeURI就是解决中文乱码问题的</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token function">decodeURI</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token function">getParams</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// chorme浏览器调试工具，</span>
<span class="token comment">// https://www.baidu.com/?aa=baladadasjj%E5%B7%B4%E6%8B%89&amp;bb=dsadadada</span>
</code></pre></div><h3 id="_1-10-使用js页面跳转"><a href="#_1-10-使用js页面跳转" aria-hidden="true" class="header-anchor">#</a> 1.10 使用JS页面跳转</h3> <p>当前页面跳转：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>origin <span class="token operator">+</span> <span class="token string">'/#/'</span> <span class="token operator">+</span> tagetLink<span class="token punctuation">;</span>
window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p>在新窗口中打开页面：</p> <div class="language- extra-class"><pre class="language-text"><code>window.open(&quot;http://www.baidu.com&quot;);
</code></pre></div><h3 id="_1-11-元素懒加载：滚动到底部触发事件"><a href="#_1-11-元素懒加载：滚动到底部触发事件" aria-hidden="true" class="header-anchor">#</a> 1.11 元素懒加载：滚动到底部触发事件</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>father<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>son<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>son<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>son<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span> <span class="token property">border</span><span class="token punctuation">:</span> 1px solid<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>100, 200, 100, 0.5<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> father <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
father<span class="token punctuation">.</span><span class="token function-variable function">onscroll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> clientHeight <span class="token operator">=</span> father<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span> <span class="token comment">// 可视区域高度</span>
  <span class="token keyword">var</span> scrollHeight <span class="token operator">=</span> father<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span> <span class="token comment">// 滚动的总高度</span>
  <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> father<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span> <span class="token comment">// 已经滚动的高度</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollTop <span class="token operator">+</span> clientHeight <span class="token operator">===</span> scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'已经滚动到底部了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;p class=co&gt;这是p标签&lt;/p&gt;&quot;</span> <span class="token operator">+</span> i<span class="token operator">++</span><span class="token punctuation">;</span>
    father<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>http://js.jirengu.com/yahec/1/edit?html,css,js</p> <p>别的参考链接：https://blog.csdn.net/u011215669/article/details/84947036</p> <h3 id="_1-12-scroll：页面已经滚动了多少距离"><a href="#_1-12-scroll：页面已经滚动了多少距离" aria-hidden="true" class="header-anchor">#</a> 1.12 scroll：页面已经滚动了多少距离</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>getScrollTop<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> bodyScrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> documentScrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">{</span> bodyScrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">)</span><span class="token punctuation">{</span>
      documentScrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    scrollTop <span class="token operator">=</span> <span class="token punctuation">(</span>bodyScrollTop <span class="token operator">-</span> documentScrollTop <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">?</span> bodyScrollTop <span class="token punctuation">:</span> documentScrollTop<span class="token punctuation">;</span>
    <span class="token keyword">return</span> scrollTop<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-13-scroll：设置滚动到顶部"><a href="#_1-13-scroll：设置滚动到顶部" aria-hidden="true" class="header-anchor">#</a> 1.13 scroll：设置滚动到顶部</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">clickBackTop</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行动画间隔时间，毫秒</span>
    <span class="token keyword">const</span> spacingTime <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token comment">// 运动轨迹</span>
    <span class="token keyword">let</span> space <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> scrollTimer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> scrollTop <span class="token operator">=</span>  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollTop <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop <span class="token operator">-</span> space<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop <span class="token operator">-</span> space<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            i <span class="token operator">===</span> space<span class="token punctuation">.</span>length ？ i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>scrollTimer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清除计时器</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> spacingTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-14-获取一个元素距离顶部的高度"><a href="#_1-14-获取一个元素距离顶部的高度" aria-hidden="true" class="header-anchor">#</a> 1.14 获取一个元素距离顶部的高度</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getTop</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> realTop <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span> <span class="token comment">// 距离父元素的高度</span>
    <span class="token keyword">var</span> parent <span class="token operator">=</span> element<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span> <span class="token comment">// 获取父元素</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>parent <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        realTop <span class="token operator">+=</span> parent<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
        parent <span class="token operator">=</span> parent<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> realTop<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> top <span class="token operator">=</span> <span class="token function">getTop</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_1-15-scroll：设置元素滚动到可视区域"><a href="#_1-15-scroll：设置元素滚动到可视区域" aria-hidden="true" class="header-anchor">#</a> 1.15 scroll：设置元素滚动到可视区域</h3> <p>当一个元素不在浏览器可视区域时，需要把元素显示在可视区域，比如一个表单字段很多，当点击确认按钮，校验失败，需要跳转到校验失败的字段，把校验失败的字段显示在可视区域的顶部，</p> <p>实现的方法是：</p> <p>1、获取该元素距离页面顶部的距离top。</p> <p>2、谁知滚动条的滚动距离为top</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 设置元素显示在窗口可视区域</span>
  <span class="token function-variable function">setViewableArea</span> <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 上面的方法</span>
    <span class="token keyword">const</span> top <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTop</span><span class="token punctuation">(</span>dom<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> top<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> top<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-javascript-相关"><a href="#_2-javascript-相关" aria-hidden="true" class="header-anchor">#</a> 2. JavaScript 相关</h2> <h3 id="_2-1-遍历对象属性，获取对象中key，做相关操作"><a href="#_2-1-遍历对象属性，获取对象中key，做相关操作" aria-hidden="true" class="header-anchor">#</a> 2.1 遍历对象属性，获取对象中key，做相关操作</h3> <p>遍历对象自己的属性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span><span class="token keyword">null</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token string">'tt'</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// eslint代码检查推荐：Object.prototype.hasOwnProperty.call(object, key)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>更简洁的写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span><span class="token keyword">null</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token string">'tt'</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-2-数字千分位格式化-tolocalestring"><a href="#_2-2-数字千分位格式化-tolocalestring" aria-hidden="true" class="header-anchor">#</a> 2.2 数字千分位格式化:toLocaleString()</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">123456789456465132</span><span class="token punctuation">;</span>
num<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// &quot;123,456,789,456,465,000&quot;</span>
<span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">1234567894562.2256</span><span class="token punctuation">;</span>
num1<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// &quot;1,234,567,894,562.23&quot;</span>
</code></pre></div><h3 id="_2-3-阻止事件冒泡"><a href="#_2-3-阻止事件冒泡" aria-hidden="true" class="header-anchor">#</a> 2.3 阻止事件冒泡</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 阻止事件冒泡</span>
<span class="token keyword">function</span> <span class="token function">stopHandler</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token comment">// 如果提供了事件对象，则这是一个非IE浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopPropagation <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 因此它支持W3C的stopPropagation()方法</span>
        e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 否则，我们需要使用IE的方式来取消事件冒泡</span>
        window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>  
</code></pre></div><h3 id="_2-4-阻止浏览器的默认行为"><a href="#_2-4-阻止浏览器的默认行为" aria-hidden="true" class="header-anchor">#</a> 2.4 阻止浏览器的默认行为</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">stopDefault</span><span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//阻止默认浏览器动作(W3C)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>preventDefault <span class="token punctuation">)</span>
        e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//IE中阻止函数器默认动作的方式</span>
    <span class="token keyword">else</span>
        window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-5-input输入框事件：获取焦点、失去焦点、值发生改变"><a href="#_2-5-input输入框事件：获取焦点、失去焦点、值发生改变" aria-hidden="true" class="header-anchor">#</a> 2.5 input输入框事件：获取焦点、失去焦点、值发生改变</h3> <p>获取焦点：onFocus</p> <p>失去焦点：onBlur</p> <p>值发生改变：onchange</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>    <span class="token attr-name">onBlur</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span> <span class="token punctuation">&quot;</span></span> <span class="token attr-name">onFocus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span> <span class="token punctuation">&quot;</span></span> <span class="token attr-name">onchange</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>function()<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="_2-6-js实现input输入框高度自适应"><a href="#_2-6-js实现input输入框高度自适应" aria-hidden="true" class="header-anchor">#</a> 2.6 JS实现Input输入框高度自适应</h3> <p>html：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>textarea<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>回复内容<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>CSS:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">#textarea</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span>0 auto<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>2px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">textarea</span> <span class="token punctuation">{</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> 0 none<span class="token punctuation">;</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>82, 168, 236, 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset 0 1px 3px <span class="token function">rgba</span><span class="token punctuation">(</span>0, 0, 0, 0.1<span class="token punctuation">)</span>, 0 0 8px <span class="token function">rgba</span><span class="token punctuation">(</span>82, 168, 236, 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>JS:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
* 文本框根据输入内容自适应高度
* @param                {HTMLElement}        输入框元素
* @param                {Number}             设置光标与输入框保持的距离(默认0)
* @param                {Number}             设置最大高度(可选)
*/</span>
<span class="token keyword">var</span> <span class="token function-variable function">autoTextarea</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>elem<span class="token punctuation">,</span> extra<span class="token punctuation">,</span> maxHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    extra <span class="token operator">=</span> extra <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> isFirefox <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>document<span class="token punctuation">.</span>getBoxObjectFor <span class="token operator">||</span> <span class="token string">'mozInnerScreenX'</span> <span class="token keyword">in</span> window<span class="token punctuation">,</span>
        isOpera <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>opera <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>window<span class="token punctuation">.</span>opera<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Opera'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function-variable function">addEvent</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>type<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            elem<span class="token punctuation">.</span>addEventListener <span class="token operator">?</span>
                elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
            elem<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'on'</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        getStyle <span class="token operator">=</span> elem<span class="token punctuation">.</span>currentStyle <span class="token operator">?</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> val <span class="token operator">=</span> elem<span class="token punctuation">.</span>currentStyle<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">'height'</span> <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/px/i</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> rect <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> rect<span class="token punctuation">.</span>bottom <span class="token operator">-</span> rect<span class="token punctuation">.</span>top <span class="token operator">-</span>
                    <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token string">'paddingTop'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span>
                    <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token string">'paddingBottom'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>        
            <span class="token punctuation">}</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">getComputedStyle</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        minHeight <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>resize <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> scrollTop<span class="token punctuation">,</span> height<span class="token punctuation">,</span>
            padding <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
            style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>_length <span class="token operator">===</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        elem<span class="token punctuation">.</span>_length <span class="token operator">=</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isFirefox <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isOpera<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            padding <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token string">'paddingTop'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">getStyle</span><span class="token punctuation">(</span><span class="token string">'paddingBottom'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>

        elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> minHeight <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>scrollHeight <span class="token operator">&gt;</span> minHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>maxHeight <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>scrollHeight <span class="token operator">&gt;</span> maxHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                height <span class="token operator">=</span> maxHeight <span class="token operator">-</span> padding<span class="token punctuation">;</span>
                style<span class="token punctuation">.</span>overflowY <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                height <span class="token operator">=</span> elem<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span> padding<span class="token punctuation">;</span>
                style<span class="token punctuation">.</span>overflowY <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            style<span class="token punctuation">.</span>height <span class="token operator">=</span> height <span class="token operator">+</span> extra <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
            scrollTop <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>style<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">-</span> elem<span class="token punctuation">.</span>currHeight<span class="token punctuation">;</span>
            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop<span class="token punctuation">;</span>
            document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> scrollTop<span class="token punctuation">;</span>
            elem<span class="token punctuation">.</span>currHeight <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>style<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">'propertychange'</span><span class="token punctuation">,</span> change<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> change<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addEvent</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> change<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 执行</span>
<span class="token keyword">var</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;textarea&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">autoTextarea</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 调用</span>
</code></pre></div><p>参考链接：https://www.cnblogs.com/milude0161/p/5264102.html</p> <h3 id="_2-7-自定义一个事件监听"><a href="#_2-7-自定义一个事件监听" aria-hidden="true" class="header-anchor">#</a> 2.7 自定义一个事件监听</h3> <p>有的时候发现有的事件没有监听方法，那么此时可以手动添加一个该事件的监听函数。</p> <p>添加一个pushState监听事件：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">_wr</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> orig <span class="token operator">=</span> history<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> rv <span class="token operator">=</span> orig<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
        e<span class="token punctuation">.</span>arguments <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> rv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
history<span class="token punctuation">.</span>pushState <span class="token operator">=</span> <span class="token function">_wr</span><span class="token punctuation">(</span><span class="token string">'pushState'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'pushState'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'监听pushState'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>参考资料：https://juejin.im/post/5c2708cd6fb9a049f06a5744#heading-6</p> <h3 id="_2-8-复制一个对象-深拷贝"><a href="#_2-8-复制一个对象-深拷贝" aria-hidden="true" class="header-anchor">#</a> 2.8 复制一个对象(深拷贝)</h3> <p>1、如果只是需要简单地复制对象的属性，而不用考虑它的constructor，也不用考虑函数，正则，Data等特殊数据类型，可使用JSON来解决</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.c: '</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.c: '</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>c<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果环境支持ES6语法以上，那么还可以使用扩展预算符：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.c: '</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.c: '</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
</code></pre></div><p>2、需要把函数，正则等特殊数据类型也考虑在内，或者当前环境不支持JSON时。这时，我们可以通过递归来实现对象的深层复制：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> newObj <span class="token operator">=</span> obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    newObj<span class="token punctuation">.</span>constructor <span class="token operator">=</span> obj<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//若需要考虑特殊的数据类型，如正则，函数等，需把这个else if去掉即可</span>
        newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> RegExp <span class="token operator">||</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Date<span class="token punctuation">)</span><span class="token punctuation">{</span>
                newObj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//递归</span>
                newObj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                newObj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>参考资料：https://segmentfault.com/a/1190000008891000</p> <h3 id="_2-9-es6语法的解构赋值和扩展运算符"><a href="#_2-9-es6语法的解构赋值和扩展运算符" aria-hidden="true" class="header-anchor">#</a> 2.9 ES6语法的解构赋值和扩展运算符</h3> <h4 id="_2-9-1-解构赋值"><a href="#_2-9-1-解构赋值" aria-hidden="true" class="header-anchor">#</a> 2.9.1 解构赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>bar<span class="token punctuation">,</span> foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 如果变量名与属性名不一致，必须写成下面这样</span>
<span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> baz <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// baz === &quot;aaa&quot;</span>
</code></pre></div><p>上面代码表示，可以从数组中提取值，按照对应位置，对变量赋值。
如果解构不成功，变量的值就等于<code>undefined</code>。
解构赋值允许指定默认值。</p> <p>解构不仅可以用于数组，还可以用于对象。变量必须与属性同名，才能取到正确的值。</p> <p>注意，ES6 内部使用严格相等运算符（<code>===</code>），判断一个位置是否有值。所以，只有当一个数组成员严格等于<code>undefined</code>，默认值才会生效。</p> <p><a href="http://es6.ruanyifeng.com/?search=%E6%89%A9%E5%B1%95%E9%A2%84%E7%AE%97%E7%AC%A6&x=0&y=0#docs/destructuring" target="_blank" rel="noopener noreferrer">ES6 变量的解构赋值 阮一峰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="_2-9-2-扩展运算符"><a href="#_2-9-2-扩展运算符" aria-hidden="true" class="header-anchor">#</a> 2.9.2 扩展运算符</h4> <p>扩展运算符（spread）是三个点（<code>...</code>）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。该运算符主要用于函数调用。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>					<span class="token comment">// 1 2 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>		<span class="token comment">// 1 2 3 4 5</span>
</code></pre></div><p><a href="http://es6.ruanyifeng.com/?search=%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6&x=0&y=0#docs/array" target="_blank" rel="noopener noreferrer">ES6 数组的扩展运算符<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>ES2018在对象中引入了扩展运算符，也可以对对象使用扩展运算符</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a<span class="token punctuation">}</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">360</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a.c: '</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b.c: '</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
</code></pre></div><p>上面的代码实现了简单的对象深拷贝。</p> <p>参考资料：</p> <p>https://www.cnblogs.com/chrischjh/p/4848934.html</p> <h3 id="_2-10-函数防抖"><a href="#_2-10-函数防抖" aria-hidden="true" class="header-anchor">#</a> 2.10 函数防抖</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 防抖函数
 * @param  {function}   func    执行的函数
 * @param  {number}     delay   延迟执行的时间
 * @return {function}           包装过的支持防抖动函数
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">debounce</span> <span class="token operator">=</span> <span class="token punctuation">(</span>func<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timerId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> context<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timerId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            window<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
            timerId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            timerId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-11-js让时间显示为多久以前"><a href="#_2-11-js让时间显示为多久以前" aria-hidden="true" class="header-anchor">#</a> 2.11 JS让时间显示为多久以前</h3> <p>根据这个参考：https://segmentfault.com/a/1190000005625314</p> <p>在上面参考的基础上，改为使用<a href="http://momentjs.cn/" target="_blank" rel="noopener noreferrer">moment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 分钟、小时、天、月、年的秒数</span>
<span class="token keyword">const</span> longTime <span class="token operator">=</span> <span class="token punctuation">{</span>
    minute<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    hour<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">,</span>
    day<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">,</span>
    month<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">30</span><span class="token punctuation">,</span>
    year<span class="token punctuation">:</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 获取时间距离当前间隔
 * @param  {string} time    时间，格式为：'2020-01-06 10:12:54' 或者为时间戳
 * @return {string}         返回多久以前，比如： 12秒前，5天前
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">gettime</span> <span class="token operator">=</span> time <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> limit <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">diff</span><span class="token punctuation">(</span><span class="token function">moment</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> limit <span class="token operator">&lt;</span> longTime<span class="token punctuation">.</span>minute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>limit<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">S前`</span></span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> longTime<span class="token punctuation">.</span>minute <span class="token operator">&amp;&amp;</span> limit <span class="token operator">&lt;</span> longTime<span class="token punctuation">.</span>hour<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>limit <span class="token operator">/</span> longTime<span class="token punctuation">.</span>minute<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">分钟前`</span></span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> longTime<span class="token punctuation">.</span>hour <span class="token operator">&amp;&amp;</span> limit <span class="token operator">&lt;</span> longTime<span class="token punctuation">.</span>day<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>limit <span class="token operator">/</span> longTime<span class="token punctuation">.</span>hour<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">小时前`</span></span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> longTime<span class="token punctuation">.</span>day <span class="token operator">&amp;&amp;</span> limit <span class="token operator">&lt;</span> longTime<span class="token punctuation">.</span>month<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>limit <span class="token operator">/</span> longTime<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">天前`</span></span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> longTime<span class="token punctuation">.</span>month <span class="token operator">&amp;&amp;</span> limit <span class="token operator">&lt;</span> longTime<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>limit <span class="token operator">/</span> longTime<span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">个月前`</span></span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>limit <span class="token operator">&gt;=</span> longTime<span class="token punctuation">.</span>year<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        content <span class="token operator">=</span> <span class="token string">'很久前'</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> content
<span class="token punctuation">}</span>
</code></pre></div><h2 id="其他参考资料"><a href="#其他参考资料" aria-hidden="true" class="header-anchor">#</a> 其他参考资料</h2> <ol><li><p><a href="http://www.cnblogs.com/chenyanger/p/3958656.html" target="_blank" rel="noopener noreferrer">javaScript &amp; jquery完美判断图片是否加载完毕<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://segmentfault.com/a/1190000014700549" target="_blank" rel="noopener noreferrer">分享前端开发常用代码片段<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p><a href="https://segmentfault.com/a/1190000013438501" target="_blank" rel="noopener noreferrer">前端简洁并实用的工具类<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/yulilong/front-end-doc/edit/master/doc/js/advanced/003-常用的代码片段.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/22/2020, 2:31:13 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/113.2313fbd8.js" defer></script><script src="/assets/js/app.775950a1.js" defer></script>
  </body>
</html>
